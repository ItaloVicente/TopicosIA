======================================================================================================================
DESCRIPTION:

introduce more flexible way to start singleton

Change-Id: I90dd98b0eb79319c6c5885b8da841fb918656f16
Reviewed-on: http://review.couchbase.org/100903
Tested-by: Artem Stemkovski <artem@couchbase.com>
Well-Formed: Build Bot <build@couchbase.com>
Reviewed-by: Timofey Barmin <timofey.barmin@couchbase.com>

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Timofey Barmin
Date: 2018-10-26 22:26:50.000000000
Message: 
Change has been successfully cherry-picked as 3228942897e93a759444598419f9e70cdbfe791a by Timofey Barmin
----------------------------------------------------------------------------------------------------------------------
