======================================================================================================================
DESCRIPTION:

MB-49447 Add bucket api tests for create and update endpoints

For MB-49447 we need to rewrite the bucket api to use validator.erl but
this would be a large change with a risk of missing some functionality
without thorough testing. This change adds api tests to cover all
bucket create/update parameters prior to the rewrite, in order to
ensure that there is minimal unwanted change in behaviour of the
endpoint after the rewrite.

Change-Id: Ia63d9a48089d6fcb0ccb4df856ca3719ee7b4df0

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Peter Searby
Date: 2022-11-21 17:51:04.000000000
Message: 
Uploaded patch set 8.
----------------------------------------------------------------------------------------------------------------------
Author: Build Bot
Date: 2022-11-21 17:51:10.000000000
Message: 
Patch Set 8:

Build Started https://cv.jenkins.couchbase.com/job/ns-server-test/32445/
----------------------------------------------------------------------------------------------------------------------
Author: Build Bot
Date: 2022-11-21 17:54:52.000000000
Message: 
Patch Set 8: Well-Formed+1

Build Successful 

https://cv.jenkins.couchbase.com/job/ns-server-test/32445/ : SUCCESS
----------------------------------------------------------------------------------------------------------------------
Author: Neelima Premsankar
Date: 2022-11-22 00:21:09.000000000
Message: 
Patch Set 8:

(7 comments)
Line:64, api_tests/bucket_test.py -> Looks like the lines:
"if cur_val != change_val:
    print_change_was_not_made(key, cur_val, change_val)
    change_was_made = False"
are repeated multiple times.. is it possible to just move those lines to the end after cur_val/change_val have been determined?

Line:99, api_tests/bucket_test.py -> Checking my understanding, change_was_made is False after the first setting that wasn't applied, but we iterate through the remaining changes, to print all remaining keys that weren't applied?

Line:1584, api_tests/bucket_test.py -> Could you rename 'test_specific' to something else like test_param?

Line:1703, api_tests/bucket_test.py -> Instead of creating a list of all possible values generated by the generator,
could you do this within the generator function itself? (It defeats the purpose of using a generator by enumerating the values.)

main_dict = dict(zip(keys, instance))
if main_params_valid(main_dict):
    yield(main_dict)

Line:1711, api_tests/bucket_test.py -> auto_compaction_defined and just_validate seem unused

Line:1716, api_tests/bucket_test.py -> Is `test_specific` param used to initialize bad/test params? I see it used in only one of the functions.

Line:297, api_tests/run.py -> Thanks, I should use these once you push it in.

----------------------------------------------------------------------------------------------------------------------
Author: Peter Searby
Date: 2022-11-22 15:50:26.000000000
MISMATCHED INLINE COMMENT
Line:64, api_tests/bucket_test.py -> Done
----------------------------------------------------------------------------------------------------------------------
Author: Peter Searby
Date: 2022-11-22 15:50:26.000000000
MISMATCHED INLINE COMMENT
Line:99, api_tests/bucket_test.py -> That's correct
----------------------------------------------------------------------------------------------------------------------
Author: Peter Searby
Date: 2022-11-22 15:50:26.000000000
MISMATCHED INLINE COMMENT
Line:1584, api_tests/bucket_test.py -> Done
----------------------------------------------------------------------------------------------------------------------
Author: Peter Searby
Date: 2022-11-22 15:50:26.000000000
MISMATCHED INLINE COMMENT
Line:1703, api_tests/bucket_test.py -> Done
----------------------------------------------------------------------------------------------------------------------
Author: Peter Searby
Date: 2022-11-22 15:50:26.000000000
MISMATCHED INLINE COMMENT
Line:1711, api_tests/bucket_test.py -> Fixed
----------------------------------------------------------------------------------------------------------------------
Author: Peter Searby
Date: 2022-11-22 15:50:26.000000000
MISMATCHED INLINE COMMENT
Line:1716, api_tests/bucket_test.py -> Done
----------------------------------------------------------------------------------------------------------------------
