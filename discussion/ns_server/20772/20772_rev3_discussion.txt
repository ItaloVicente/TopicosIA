======================================================================================================================
DESCRIPTION:

MB-5307: made atomic_write_file be more atomic

I.e. it now fsyncs before rename.

Change-Id: Ic05cfae5d7a32042c4b3f66193b7eec14a9d5b14

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Aliaksey Kandratsenka
Date: 2012-09-20 11:27:41.000000000
Message: 
Uploaded patch set 3.
----------------------------------------------------------------------------------------------------------------------
Author: Aliaksey Artamonau
Date: 2012-09-20 11:29:11.000000000
Message: 
Patch Set 3: Looks good to me, approved

Automatically re-added by Gerrit trivial rebase detection script.
----------------------------------------------------------------------------------------------------------------------
Author: Pavel Blagodov
Date: 2012-09-20 11:29:13.000000000
Message: 
Patch Set 3: Looks good to me, but someone else must approve

Automatically re-added by Gerrit trivial rebase detection script.
----------------------------------------------------------------------------------------------------------------------
