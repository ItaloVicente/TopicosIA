======================================================================================================================
DESCRIPTION:

extracted cluster joining into ns_cluster_membership

We also provide some new functions that allow us to implement recent API
changes

Change-Id: I98bdca6617991ef98ded1c247e96449f55300ebf

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Steve Yen
Date: 2010-06-03 17:46:03.000000000
Message: 
Patch Set 1: Verified; Looks good to me, approved

This looks big, but approved anyways!
----------------------------------------------------------------------------------------------------------------------
Author: Steve Yen
Date: 2010-06-03 17:46:06.000000000
Message: 
Change has been successfully cherry-picked as d22e0b7850c579d4af110d806a4af4ce328013aa.
----------------------------------------------------------------------------------------------------------------------
