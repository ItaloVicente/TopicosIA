======================================================================================================================
DESCRIPTION:

MB-47905: Don't add any CA's and don't overwrite custom certs...

... at the-node-to-be-added when node with custom node certs and
autogenerated client certs is joining the cluster that uses
autogenerated certs.

We definitely should not overwrite custom certs on the-node-to-be-
added in this case (because they we added to the node for a reason).

We also should not add autogenerated CA to the new node in this case
because it basically weakens our security if we compare it to
clusters that don't support client certs.

If custom cert is loaded it is assumed that node will properly
verify other peers, so we should not use the cluster node's
autogenerated ca if one of the-node-to-be-added's cert is
autogenerated. We can do it only when node AND client certs are
autogenerated.

Change-Id: I48aca18cc403fcffa8d031324680d7680ff16799

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Timofey Barmin
Date: 2023-02-01 05:27:58.000000000
Message: 
Uploaded patch set 3: Patch Set 2 was rebased.
----------------------------------------------------------------------------------------------------------------------
Author: Build Bot
Date: 2023-02-01 05:30:00.000000000
Message: 
Patch Set 3: -Well-Formed

Build Started https://cv.jenkins.couchbase.com/job/ns-server-test/34016/ (1/2)
----------------------------------------------------------------------------------------------------------------------
Author: Build Bot
Date: 2023-02-01 06:03:40.000000000
Message: 
Patch Set 3:

Build Started https://cv.jenkins.couchbase.com/job/ns-server-ns-test/1656/ (2/2)
----------------------------------------------------------------------------------------------------------------------
Author: Build Bot
Date: 2023-02-01 06:22:12.000000000
Message: 
Patch Set 3: Well-Formed-1

Build Failed 

https://cv.jenkins.couchbase.com/job/ns-server-ns-test/1656/ : FAILURE

No problems were identified. If you know why this problem occurred, please add a suitable Cause for it. ( https://cv.jenkins.couchbase.com/job/ns-server-ns-test/1656/ )

https://cv.jenkins.couchbase.com/job/ns-server-test/34016/ : SUCCESS
----------------------------------------------------------------------------------------------------------------------
