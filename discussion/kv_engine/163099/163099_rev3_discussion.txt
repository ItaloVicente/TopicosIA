======================================================================================================================
DESCRIPTION:

MB-XXXXX: Move CheckpointVisitor to use SemaphoreGuard

On several previous occasions, the `available` flag used to avoid
creating more than one CheckpointVisitor has been left `false`, e.g.,
through an early exit.

Move to using an RAII guard holding a token from a cb::Semaphore to
avoid this.

Change-Id: I5dc432368d0833275a0d22b14b93efaa3512f7f9

======================================================================================================================
COMMENTS
======================================================================================================================
Author: James H
Date: 2021-10-06 17:13:59.000000000
Message: 
Patch Set 3: Commit message was updated.
----------------------------------------------------------------------------------------------------------------------
Author: James H
Date: 2021-10-15 13:48:13.000000000
Message: 
Removed reviewer Dave Rigby.
----------------------------------------------------------------------------------------------------------------------
Author: James H
Date: 2021-10-15 13:48:14.000000000
Message: 
Removed reviewer Ben Huddleston.
----------------------------------------------------------------------------------------------------------------------
Author: James H
Date: 2021-10-15 13:48:15.000000000
Message: 
Removed reviewer Trond Norbye.
----------------------------------------------------------------------------------------------------------------------
Author: James H
Date: 2021-10-15 13:48:16.000000000
Message: 
Removed reviewer Jim Walker.
----------------------------------------------------------------------------------------------------------------------
Author: James H
Date: 2021-10-15 13:48:16.000000000
Message: 
Removed reviewer Richard de Mellow.
----------------------------------------------------------------------------------------------------------------------
Author: James H
Date: 2021-10-15 13:48:17.000000000
Message: 
Removed reviewer Dave Finlay.
----------------------------------------------------------------------------------------------------------------------
Author: James H
Date: 2021-10-15 13:48:18.000000000
Message: 
Removed reviewer Paolo Cocchi.
----------------------------------------------------------------------------------------------------------------------
Author: James H
Date: 2021-12-01 11:20:33.000000000
Message: 
Abandoned
----------------------------------------------------------------------------------------------------------------------
