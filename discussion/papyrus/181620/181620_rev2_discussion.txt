======================================================================================================================
DESCRIPTION:

Bug 572794: [Properties] Add AbstractSection and regenerate the
Properties model

- Convert the Properties model from Ecore to UML
- Add an AbstractSection; keep the current Section for "XWTSections"
- Add tab#allSections, and keep tab#sections as a derived subset for
compatibility
- Regenerate & fix dependent code (Toolsmith + Runtime)
- Add a service to plug different section renderers
- Architecture Representations depend on the Constraint model and need
to be regenerated
- Make redefinedProperties non-derived to be more consistent with how
the code was previously generated

Change-Id: Ib02784508d6924415d82ff76c5c78c4a4d3cb95e
Signed-off-by: Camille Letavernier <cletavernier@eclipsesource.com>

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Camille Letavernier
Date: 2021-06-08 15:30:41.000000000
Message: 
Uploaded patch set 2.
----------------------------------------------------------------------------------------------------------------------
Author: Papyrus Bot
Date: 2021-06-08 15:31:14.000000000
Message: 
Patch Set 2:

Build Started https://ci.eclipse.org/papyrus/job/Papyrus-Gerrit-Master-With-Tests/350/
----------------------------------------------------------------------------------------------------------------------
Author: Papyrus Bot
Date: 2021-06-08 17:29:38.000000000
Message: 
Patch Set 2: Verified+1

Build Successful 

https://ci.eclipse.org/papyrus/job/Papyrus-Gerrit-Master-With-Tests/350/ : gerrit review 181620,2 --message 'Build Successful <BUILDS_STATS>' --verified 1 --code-review 0
----------------------------------------------------------------------------------------------------------------------
Author: Christian Damus
Date: 2021-06-08 19:07:56.000000000
Message: 
Patch Set 2: Code-Review+1

I was able to integrate my WIP changes for bug 573986 on top of this and it all works fine (generating a context model from a profile, validating a properties view project, etc.)

There are a few small suggestions I may have made in the code generation (e.g., dependency reÃ«xports generated by EMF and not cleaned up), but I had to do them in my branch anyways, so let's not worry about them here.
----------------------------------------------------------------------------------------------------------------------
Author: Camille Letavernier
Date: 2021-06-09 07:06:37.000000000
Message: 
Patch Set 2:

> dependency reÃ«xports generated by EMF and not cleaned up

Oops; I cleaned up reexports but indeed, I missed one manifest ðŸ˜Š I should have used the Papyrus builder ðŸ˜„
----------------------------------------------------------------------------------------------------------------------
Author: Christian Damus
Date: 2021-06-10 14:57:22.000000000
Message: 
Patch Set 2: Code-Review-1

(5 comments)

Actually, if we are going to merge this independently of the WIP for bug 573986, then I think there are some changes that we should make.
Line:37, plugins/infra/constraints/org.eclipse.papyrus.infra.constraints/Model/Constraints.ecore -> This should use the registered package URI as ten lines above for the EString type.

Line:21, plugins/infra/constraints/org.eclipse.papyrus.infra.constraints/plugin.xml -> Why doesn't this one have the @generated comment?

Line:31, plugins/infra/gmfdiag/org.eclipse.papyrus.infra.gmfdiag.representation.edit/META-INF/MANIFEST.MF -> Missing dependency range.

Line:17, plugins/infra/properties/org.eclipse.papyrus.infra.properties/META-INF/MANIFEST.MF -> ReÃ«xports (also below).

Line:1, plugins/infra/properties/org.eclipse.papyrus.infra.properties/Model/properties.genmodel -> The previous genmodel had non-NLS markers enabled. Doing that again and regenerating will eliminate a lot of unnecessary changes in the generated code, especially in the edit item providers.

----------------------------------------------------------------------------------------------------------------------
Author: Christian Damus
Date: 2021-06-11 12:51:48.000000000
Message: 
Patch Set 2:

(2 comments)

I missed a couple of problems in the properties.genmodel in my previous review: settings lost in the re-creation of the genmodel in the conversion to UML. I discovered these when re-generating the model with my own changes.
Line:35, plugins/infra/properties/org.eclipse.papyrus.infra.properties/Model/properties.genmodel -> The XMI resource type setting was lost in the UML conversion, which results in re-generation losing the resource factory registration for the EnvironmentResourceFactoryImpl that we had previously generated.

Line:92, plugins/infra/properties/org.eclipse.papyrus.infra.properties/Model/properties.genmodel -> The default file extension "contexts" must be overridden here as "ctx" to ensure that re-generation of the model will not break the resource factory registration in the plugin.xml (this is a customization that was lost in the conversion to UML).

Also the XMI resource type setting was lost in the UML conversion, which results in re-generation losing the resource factory registration for the ContextsResourceFactoryImpl that we had previously generated.

----------------------------------------------------------------------------------------------------------------------
Author: Christian Damus
Date: 2021-06-24 14:40:45.000000000
Message: 
Patch Set 2: -Code-Review

(4 comments)
Line:37, plugins/infra/constraints/org.eclipse.papyrus.infra.constraints/Model/Constraints.ecore -> I see that this is how it is generated by the UML importer from the reference to EObject in the UML representation of the Ecore Metamodel. Probably best not to change it as it will just return on the next reload of the GenModel.

Line:21, plugins/infra/constraints/org.eclipse.papyrus.infra.constraints/plugin.xml -> Done

Line:31, plugins/infra/gmfdiag/org.eclipse.papyrus.infra.gmfdiag.representation.edit/META-INF/MANIFEST.MF -> Done

Line:17, plugins/infra/properties/org.eclipse.papyrus.infra.properties/META-INF/MANIFEST.MF -> Done

----------------------------------------------------------------------------------------------------------------------
