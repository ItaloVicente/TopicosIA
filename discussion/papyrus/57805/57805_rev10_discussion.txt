======================================================================================================================
DESCRIPTION:

Bug 477384: [Canonical] Should not use drop requests to create views
https://bugs.eclipse.org/bugs/show_bug.cgi?id=477384

Changes to core APIs to remove PapyrusCanonicalEditPolicy's dependence
on the generated diagram drag-and-drop behavior:

* extract the CommonDiagramDragDropEditPolicy's abstract API for
  information about diagram-specific visual IDs into a new service

* update the canonical edit-policy and diagram-to-diagram
  synchronization infrastructure to use the new VisualTypeService to
  obtain information about the diagram's specific visual IDs to then
  let the view service create views without resorting to drop commands

* update extensions of various canonical strategies in the UML diagrams
  to adapt to the new drop-free synchronization mechanism

Update the Papyrus Diagram GMFGen extensions and code generation
templates to add generation of the IVisualTypeProvider that plugs into
the new VisualTypeService to support canonical synchronization and
drag-and-drop.

Includes regeneration of the GMFGen extension model using EMF's most
recent templates, which result in minor changes to most model source
files.

Regenerate all UML diagrams to create and register the visual type
provider extensions.  Also update the BREE for diagrams to 1.8 because
at least one of them requires Java 8 to compile properly.

* Note that the interaction overview diagram uses a code generator that
  is not published on Eclipse.org, so I had to emulate the code
  generation step for this one

* Note also that the SysML 1.1 diagrams likewise cannot be re-generated
  but, moreover, they do not implement the common pattern for Visual ID
  Registry, so they are not updated and will, therefore, probably not
  support canonical synchronization

Deprecate the ICreationTargetStrategy extension API which was only
needed to redirect drag-and-drop requests, but these are no longer
employed in the canonical synchronization.

Also some fixes for region layout problems in the State Machine Diagram:

* update custom creation edit policies to re-use the commands used by
  drag-and-drop and untargeted creation that perform initial placement
  of new regions
* fix the GMFGen to register the custom creation edit policy for the
  state machine compartment

Change-Id: I3afc68d6f0f1bfe05e336c9138a7f1acbc8f643b

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Christian Damus
Date: 2015-10-21 22:28:45.000000000
Message: 
Uploaded patch set 10.
----------------------------------------------------------------------------------------------------------------------
Author: CI Bot
Date: 2015-10-21 22:28:51.000000000
Message: 
Patch Set 10:

Build Started https://hudson.eclipse.org/papyrus/job/Papyrus-Gerrit/5050/
----------------------------------------------------------------------------------------------------------------------
Author: Christian Damus
Date: 2015-10-21 22:31:43.000000000
Message: 
Patch Set 10:

Patch set 10 fixes problems in the layout of region views in State Machine Diagrams.  The basic view creation as generated by the diagram didn't know how to lay these out, so they just ended up as little squares floating somewhere in the parent compartment that couldn't be moved or resized by the user.

The new patch set updates the creation edit policies of the state and machine compartments to reuse the custom commands used for drop and palette creation, which perform initial layout by splitting an existing region in two.

See a brief demonstration on YouTube:  http://youtu.be/6W502QbTrN0
----------------------------------------------------------------------------------------------------------------------
Author: CI Bot
Date: 2015-10-21 23:09:44.000000000
Message: 
Patch Set 10: Verified+1

Build Successful 

https://hudson.eclipse.org/papyrus/job/Papyrus-Gerrit/5050/ : SUCCESS
----------------------------------------------------------------------------------------------------------------------
Author: Christian Damus
Date: 2015-10-22 16:00:04.000000000
Message: 
Patch Set 10:

Patch set 11 adds a design note in the doc folder.  The same is published on the wiki in the usual place:

https://wiki.eclipse.org/Papyrus/Neon_Work_Description/Improvements/Canonical_Edit_Policy
----------------------------------------------------------------------------------------------------------------------
Author: Gerrit Code Review
Date: 2015-12-04 12:59:11.000000000
Message: 
Change has been successfully rebased as f8dedc59a0e9bc39beaa61b7a8c2cad1252c9438 by Camille Letavernier
----------------------------------------------------------------------------------------------------------------------
