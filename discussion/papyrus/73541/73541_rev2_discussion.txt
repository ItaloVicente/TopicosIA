======================================================================================================================
DESCRIPTION:

Bug 494478: StereotypeElementListener dispatches events too early during undo/redo
https://bugs.eclipse.org/bugs/show_bug.cgi?id=494478

Restore the post-commit timing of the dispatch of custom notifications for stereotype applications generated by undo and redo of commands.
This ensures that, for example, Adapters attached directly to objects
are not notified of unapplication of a stereotype during undo before
that stereotype is actually unapplied.

The pre-commit timing of the original notifications from command
execution is preserved because:

* they do not have the problem of preceding the actual model changes
* pre-commit listeners such as applied-stereotype display edit-policies
  still need to receive and react to these notifications before commit
* post-commit listeners will still receive these also, as before

Delaying the notifications to post-commit phase for undo/redo should not break any listeners' timing assumptions because only post-commit listeners could have received them, anyways:  undo/redo transactions do not have the pre-commit (triggers) phase.

Change-Id: Iaeda2abfbb86d98fbdf0a93787bef25901a7e312

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Christian Damus
Date: 2016-05-25 14:53:50.000000000
Message: 
Uploaded patch set 2: Patch Set 1 was rebased.
----------------------------------------------------------------------------------------------------------------------
Author: CI Bot
Date: 2016-05-25 14:53:57.000000000
Message: 
Patch Set 2:

Build Started https://hudson.eclipse.org/papyrus/job/Papyrus-Gerrit/7511/
----------------------------------------------------------------------------------------------------------------------
Author: CI Bot
Date: 2016-05-25 15:32:34.000000000
Message: 
Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/papyrus/job/Papyrus-Gerrit/7511/ : SUCCESS
----------------------------------------------------------------------------------------------------------------------
Author: Christian Damus
Date: 2016-05-26 17:03:34.000000000
Message: 
Patch Set 2: Code-Review+1

Any feed-back?  Other reviewers I should suggest?
----------------------------------------------------------------------------------------------------------------------
Author: Christian Damus
Date: 2016-05-27 12:07:32.000000000
Message: 
Patch Set 2: Code-Review+2
----------------------------------------------------------------------------------------------------------------------
Author: Christian Damus
Date: 2016-05-27 12:07:36.000000000
Message: 
Patch Set 3: Patch Set 2 was rebased
----------------------------------------------------------------------------------------------------------------------
Author: Gerrit Code Review
Date: 2016-05-27 12:07:39.000000000
Message: 
Change has been successfully rebased as c3dcb4914637e5ca63d83d16ef9a9342796b0552 by Christian W. Damus
----------------------------------------------------------------------------------------------------------------------
