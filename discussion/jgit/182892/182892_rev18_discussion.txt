======================================================================================================================
DESCRIPTION:

CommitGraph: implement commit-graph read

Git introduced a new file storing the topology and some metadata of
the commits in the repo (commitGraph). With this data, git can browse
commit history without parsing the pack, speeding up e.g.
reachability checks.

This change teaches JGit to read commit-graph-format file, following
the upstream format([1]).

JGit can read a commit-graph file from a buffered stream, which means
that we can provide this feature for both FileRepository and
DfsRepository.

I splitted the file parsing from the interface to later plug the
multiple commit-graph files[2] implementation, though this feature
is not supported in the current implementation.

[1] https://git-scm.com/docs/commit-graph-format/2.21.0
[2] https://git-scm.com/docs/commit-graph/2.23.0#_commit_graphs_chains

Bug: 574368
Change-Id: Ib5c0d6678cb242870a0f5841bd413ad3885e95f6
Signed-off-by: kylezhao <kylezhao@tencent.com>

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Kyle Zhao
Date: 2022-02-05 09:46:07.000000000
Message: 
Uploaded patch set 18.
----------------------------------------------------------------------------------------------------------------------
Author: JGit Bot
Date: 2022-02-05 09:46:25.000000000
Message: 
Patch Set 18:

Build Started https://ci.eclipse.org/jgit/job/stable/job/jgit.gerrit-pipeline.java11/866/
----------------------------------------------------------------------------------------------------------------------
Author: Kyle Zhao
Date: 2022-02-05 10:00:55.000000000
Message: 
Patch Set 18:

Thanks for your reminder.
I was on vacation recently due to the Lunar New Year, so I didn't spend much time on this change.
By the way, I will return to work after February 8th ðŸ˜Š

> CommitGraphData -> CommitGraphLoader: it just decides the format version of the stream and invokes >the specific implementation. No representation of file contents.
done.
> CommitGraphDataV1 -> CommitGraphParserV1 (it reads the contents of a V1 file, static inner private 
> class of CommitGraphLoader). It can either return a CommitGraphSingleFile or an internal 
> representation of the file contents (CommitGraphFileContent? not public API)
done, and I renamed CommitGraphData to CommitGraphFileContent and set it as protected class.
> CommitGraphSingleImpl -> CommitGraphSingleFile (implements CommitGraph)
done.
----------------------------------------------------------------------------------------------------------------------
Author: JGit Bot
Date: 2022-02-05 10:06:26.000000000
Message: 
Patch Set 18: Verified-1

Build Failed 

https://ci.eclipse.org/jgit/job/stable/job/jgit.gerrit-pipeline.java11/866/ : FAILURE
----------------------------------------------------------------------------------------------------------------------
