======================================================================================================================
DESCRIPTION:

Bug 575702: Nondeterministic makefile ordering (prelude)

This fixes a small and rarely hit in practice regression regarding
nondeterministic ordering in makefile output introduced in 15c29eb (bug
505882).

Multiple values for a build output variable were previously output in
definition order. Now they are generated by iterating over a HashSet,
which does not have a deterministic iteration order. Use a TreeSet for
output in a consistently sorted order instead.

Output variables with multiple values are rare (most tools generate one
output file of a particular type) and this case was not exercised in the
existing unit tests. Modify one such that it does (even if in a somewhat
contrived situation). Of note, ${OUTPUT} cannot be used in the
commandLinePattern for such a tool because it squashes the multiple
values into a single quoted file name - misuse ${FLAGS} instead.

Change-Id: Iaa28525c21d74c87dd4d72a03e334ed0e5576727
Signed-off-by: Christian Walther <walther@indel.ch>

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Christian Walther
Date: 2021-11-02 13:07:45.000000000
Message: 
Uploaded patch set 1.
----------------------------------------------------------------------------------------------------------------------
Author: CDT Bot
Date: 2021-11-02 13:32:12.000000000
Message: 
Patch Set 1: Verified+1

Build Successful 

https://ci.eclipse.org/cdt/job/cdt-verify-test-cdt-ui-only-pipeline/3625/ : SUCCESS

https://ci.eclipse.org/cdt/job/cdt-verify-test-cdt-other-pipeline/3849/ : SUCCESS. p2 repository available on https://ci.eclipse.org/cdt/job/cdt-verify-test-cdt-other-pipeline/3849/artifact/releng/org.eclipse.cdt.repo/target/repository/ - please mark build as "Keep this build forever" if the p2 repo is needed for testing. Otherwise it will be deleted shortly.

https://ci.eclipse.org/cdt/job/cdt-verify-code-cleanliness-pipeline/3421/ : SUCCESS. Formatting, whitespace, version numbers and other checks appear to be correct. See https://github.com/eclipse-cdt/cdt-infra/tree/master/jenkins/pipelines/cdt/verify#cdt-verify-code-cleanliness for documentation on what is checked.
----------------------------------------------------------------------------------------------------------------------
Author: Torbjörn Svensson
Date: 2021-11-02 13:36:23.000000000
Message: 
Patch Set 1: Code-Review+2
----------------------------------------------------------------------------------------------------------------------
Author: Torbjörn Svensson
Date: 2021-11-02 14:00:01.000000000
Message: 
Patch Set 1:

I will merge as soon as you +1 @Christian.
----------------------------------------------------------------------------------------------------------------------
Author: Christian Walther
Date: 2021-11-02 14:06:52.000000000
Message: 
Patch Set 1: Code-Review+1

Thanks for the quick review!
----------------------------------------------------------------------------------------------------------------------
Author: Torbjörn Svensson
Date: 2021-11-02 14:22:19.000000000
Message: 
Change has been successfully merged by Torbjörn Svensson
----------------------------------------------------------------------------------------------------------------------
