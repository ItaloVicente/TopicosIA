======================================================================================================================
DESCRIPTION:

Bug 575702: Nondeterministic makefile ordering

Several parts of makefile output were generated by iterating over
HashMaps, which do not have a deterministic iteration order. Use
LinkedHashMaps instead, preserving the insertion order, which in
these cases generally appears to come from the toolchain definition.

Using an inherently sorted container such as a TreeMap would be even
better, but is hard because the HashMap is returned by an API function
and TreeMap, unlike LinkedHashMap, is not a subclass of HashMap.
Sorting individually before each iteration would be possible but
complicated and prone to being forgotten in future expansions.

Benchmark files for affected tests are updated to the new ordering.
This would not be strictly necessary: the tests would also succeed
without, since org.eclipse.cdt.managedbuilder.testplugin.
ManagedBuildTestHelper.compareMakefiles() uses a reordering-tolerant
comparison. However, recording the new (now hopefully stable) order
makes future development on makefile generation easier by avoiding
spurious diff output when tests fail due to changes to other parts of
makefiles.

Change-Id: I20f2e51bd5b9e3bcc5da245d781ca5b4a34fc0b2
Signed-off-by: Christian Walther <walther@indel.ch>

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Christian Walther
Date: 2021-08-29 23:21:02.000000000
Message: 
Uploaded patch set 1.
----------------------------------------------------------------------------------------------------------------------
Author: CDT Bot
Date: 2021-08-29 23:42:17.000000000
Message: 
Patch Set 1: Verified+1

Build Successful 

https://ci.eclipse.org/cdt/job/cdt-verify-test-cdt-other-pipeline/3689/ : SUCCESS. p2 repository available on https://ci.eclipse.org/cdt/job/cdt-verify-test-cdt-other-pipeline/3689/artifact/releng/org.eclipse.cdt.repo/target/repository/ - please mark build as "Keep this build forever" if the p2 repo is needed for testing. Otherwise it will be deleted shortly.

https://ci.eclipse.org/cdt/job/cdt-verify-code-cleanliness-pipeline/3262/ : SUCCESS. Formatting, whitespace, version numbers and other checks appear to be correct. See https://github.com/eclipse-cdt/cdt-infra/tree/master/jenkins/pipelines/cdt/verify#cdt-verify-code-cleanliness for documentation on what is checked.

https://ci.eclipse.org/cdt/job/cdt-verify-test-cdt-ui-only-pipeline/3483/ : SUCCESS
----------------------------------------------------------------------------------------------------------------------
Author: Torbj√∂rn Svensson
Date: 2021-10-25 17:32:21.000000000
Message: 
Patch Set 1:

Try to just rebase this changeset and see if that helps.
----------------------------------------------------------------------------------------------------------------------
