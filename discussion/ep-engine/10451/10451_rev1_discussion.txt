======================================================================================================================
DESCRIPTION:

Refactor: move the counting of persisted items to the callback

Currently we only supported that metric for sqlite, but it isn't
backend specific so it should be updated in the engine itself

Change-Id: I6e8962a264190f7e3d196b611f73d81bfefcb0ea

======================================================================================================================
COMMENTS
======================================================================================================================
Author: Matt Ingenthron
Date: 2011-10-29 17:29:34.000000000
Message: 
Patch Set 1: Looks good to me, approved


----------------------------------------------------------------------------------------------------------------------
Author: Trond Norbye
Date: 2011-10-29 17:30:59.000000000
Message: 
Patch Set 1: Verified


----------------------------------------------------------------------------------------------------------------------
Author: Trond Norbye
Date: 2011-10-29 17:31:00.000000000
Message: 
Change has been successfully cherry-picked as 4bebd098ce98188cda0d7a926952c83319a40da0.
----------------------------------------------------------------------------------------------------------------------
